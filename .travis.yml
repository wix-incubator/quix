matrix:
  include:
    - stage: test
      name: "Frontend"
      language: node_js
      node_js:
        - "11"
      services:
        - mysql
      cache: npm
      before_install:
        - mysql -e 'CREATE DATABASE IF NOT EXISTS Quix;'
      install:
        - cd ./quix-frontend/service
        - npm install
      addons:
        apt:
          sources:
            - mysql-5.7-trusty
          packages:
            - mysql-server
            - mysql-client
      script:
        - cd ./quix-frontend/service
        - npm test:mysql